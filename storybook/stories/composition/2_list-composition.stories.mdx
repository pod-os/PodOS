import { html } from "lit-html";

import { Canvas, Meta, Story } from "@storybook/addon-docs/blocks";

<Meta
  title="Composition"
  args={{ uri: "https://solidproject.solidcommunity.net/profile/card#me" }}
/>

## pos-list composition

This is an example of how you can use `<pos-list>` element to list things
related to a resource with a custom display. The `ul` and `li` elements are used
as appropriate semantic HTML elements.

<Canvas withSource="open">
  <Story name="pos-list composition">
    {({ uri }) => html`
Skills:
<pos-resource uri=${uri}>
    <ul>
        <pos-list rel="http://schema.org/skills">
            <template>
                <li>
                    <pos-list rel="http://www.w3.org/ns/solid/terms#publicId">
                        <template>
                            <pos-label></pos-label>
                        </template>
                    </pos-list>:
                    <pos-value predicate="http://www.w3.org/ns/solid/terms#publicId"/></pos-value>
                </li>
            </template>
        </pos-list>
    </ul>
</pos-resource>
    `}
  </Story>
</Canvas>

## Table example

The `table`-related HTML elements have strict rules that prevent other elements
such as `pos-list` being used within them. Instead we can make a table using CSS
`grid` rules. The grid needs to be defined within each template as `pos-list`
nests list items within `pos-resource` elements, which use shadow dom.

<Canvas withSource="open">
  <Story name="pos-list table">
    {({ uri }) => html`
<style>
    [role="row"] {
        display: grid;
        grid-template-columns: 200px 600px;
    }
    .header {
        font-weight: bold;
    }
    [role="cell"], [role="columnheader"] {
        border: 1px solid grey;
    }
</style>
<pos-resource uri=${uri} role="table" aria-labelledby="skills-caption">
    <span role="caption" id="skills-caption">Table of skills</span>
    <div role="row" class="header">
        <div role="columnheader">Skill</div>
        <div role="columnheader">URL</div>
    </div>
    <pos-list rel="http://schema.org/skills">
        <template>
            <div role="row">
                <pos-list rel="http://www.w3.org/ns/solid/terms#publicId" role="cell">
                    <template>
                        <pos-label></pos-label>
                    </template>
                </pos-list>
                <pos-value predicate="http://www.w3.org/ns/solid/terms#publicId" role="cell" /></pos-value>
            <div>
        </template>
    </pos-list>
</pos-resource>
    `}
  </Story>
</Canvas>
